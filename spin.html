<!DOCTYPE html>
<html lang="en">
<head>
    <link type="image/x-icon" href="favicon.ico" rel="shortcut icon">
    <link type="Image/x-icon" href="favicon.ico" rel="icon">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FVCrusher ¬∑ SPIN</title>
    <link rel="stylesheet" href="styles.css">
    <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
            jax: ["input/TeX", "output/HTML-CSS"],
            extensions: ["tex2jax.js"],
            "HTML-CSS": { preferredFont: "TeX", availableFonts: ["STIX","TeX"] },
            tex2jax: { inlineMath: [ ["$", "$"], ["\\(","\\)"] ], displayMath: [ ["$$","$$"], ["\\[", "\\]"] ], processEscapes: true, ignoreClass: "tex2jax_ignore|dno" },
            TeX: { noUndefined: { attributes: { mathcolor: "red", mathbackground: "#FFEEEE", mathsize: "90%" } } },
            messageStyle: "none"
        });
    </script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/viz.js/2.1.2/viz.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/viz.js/2.1.2/full.render.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/default.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body>
    <header>
        <div class="header-container">
            <div>
                <button class="home-button" onclick="location.href='/'">FVCrusher</button>
            </div>
            <div>
                <button class="header-button" onclick="toggleNavigation()">
                    –ù–∞–≤–∏–≥–∞—Ü–∏—è ‚ò∞
                </button>
            </div>
            <script>
                function toggleNavigation()
                {
                    let nav_panel = document.getElementById("nav-panel");
                    if (nav_panel.style.height == "0px")
                    {
                        let is_row = window.getComputedStyle(document.getElementById("nav-panel")).flexDirection == "row";
                        nav_panel.style.height = `${nav_panel.scrollHeight * (is_row ? 2 : 1)}px`;
                        nav_panel.style.paddingTop = "10px";
                    }
                        
                    else
                    {
                        nav_panel.style.height = "0px";
                        nav_panel.style.paddingTop = "0px";
                    }
                }
            </script>
        </div>
        <div class="nav-panel" id="nav-panel" style="height: 0px;">
            <button class="nav-button" onclick="location.href='/cnf'">–ö–ù–§</button>
            <button class="nav-button inactive" onclick="window.alert('–î–∞–Ω–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –µ—â–µ –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω')">–ù–µ–ª—å—Å–æ–Ω-–û–ø–ø–µ–Ω</button>
            <button class="nav-button" onclick="location.href='/ltl2buchi'">LTL ‚Üí –ë—é—Ö–∏</button>
            <button class="nav-button" onclick="location.href='/robdd'">ROBDD</button>
            <button class="nav-button inactive" onclick="window.alert('–î–∞–Ω–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –µ—â–µ –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω')">–ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π</button>
        </div>
    </header>
    <main>
        <div id="tasksList" class="spin-tasks">
            <p id="loaderProcess" class="loader-process">
                <span class="loader-message">–ó–∞–¥–∞—á–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è, –ø–æ–¥–æ–∂–¥–∏—Ç–µ –ø–æ–∂–∞–ª—É–π—Å—Ç–∞</span>
                <span class="loader"></span>
            </p>
            <script>
                function restoreAll()
                {
                    let to_restore = document.getElementsByClassName("restore-state");
                    for (let i = 0; i < to_restore.length; i++)
                    {
                        to_restore[i].classList.remove("up");
                        to_restore[i].classList.remove("open");
                        to_restore[i].classList.remove("expanded");
                        to_restore[i].style.removeProperty("max-height");
                    }
                }

                function closeSolutions(task_no = null)
                {
                    let solutions = document.getElementsByClassName("solution-text");
                    for (let i = 0; i < solutions.length; i++)
                    {
                        if (task_no == null || solutions[i].id.split(":")[1] == task_no)
                            solutions[i].classList.remove("open");
                    }
                    let variant_buttons = document.getElementsByClassName("solution-variant");
                    for (let i = 0; i < variant_buttons.length; i++)
                    {
                        if (task_no == null || variant_buttons[i].id.split(":")[1] == task_no)
                            variant_buttons[i].classList.remove("opened");
                    }
                }

                function openSolution(button)
                {
                    let [action, task_no, solution_no] = button.id.split(":");
                        closeSolutions(task_no);

                    button.classList.add("opened");
                    let solution_id = `solution:${task_no}:${solution_no}`;
                    let to_expand = `taskSolutions:${task_no}`;
                    const solution = document.getElementById(solution_id);
                    const solution_container = document.getElementById(to_expand);

                    solution.classList.add("open");

                    solution_container.style.setProperty("max-height", `${solution_container.scrollHeight}px`);
                }

                function expandTask(button)
                {
                    let [action, no] = button.id.split(":");
                    let task_id = `task:${no}`;
                    let expandable_id = `${(action == "expandTask") ? "taskText" : "taskSolutions"}:${no}`;
                    let default_solution_button = document.getElementById(`openSolution:${no}:1`);

                    const arrow = button.getElementsByClassName("dropdown-arrow")[0];
                    const task_header = document.getElementById(task_id);
                    const to_expand = document.getElementById(expandable_id);

                    const opening = !arrow.classList.contains("up");

                    restoreAll();

                    if (opening)
                    {
                        if (action == "expandSolutions" && default_solution_button != null)
                            openSolution(default_solution_button);
                        arrow.classList.add("up");
                        task_header.classList.add("expanded");
                        to_expand.classList.add("open");
                        to_expand.style.setProperty("max-height", `${to_expand.scrollHeight}px`);
                    }
                }
            </script>
        </div>
        <script>
            function getTasks()
            {
                // fetch("./spin/tasks.json")
                //     .then(response => response.json())
                //     .then(json => console.log(json));
                return [
                    {
                        "id": "jealous_couples_2024",
                        "name": "–†–µ–≤–Ω–∏–≤—ã–µ –ø–∞—Ä—ã",
                        "task": "–ù–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–µ—Ä–µ–ø—Ä–∞–≤–∏—Ç—å —Ç—Ä–∏ –ø–∞—Ä—ã –∏–∑ –∂–µ–Ω–∏—Ö–æ–≤ –∏ –Ω–µ–≤–µ—Å—Ç —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –ª–æ–¥–∫–∏, –∫–æ—Ç–æ—Ä–∞—è –º–æ–∂–µ—Ç –≤—ã–¥–µ—Ä–∂–∞—Ç—å —Ç–æ–ª—å–∫–æ –¥–≤–æ–∏—Ö. –ñ–µ–Ω–∏—Ö–∏ —Ä–µ–≤–Ω–∏–≤—ã –∏ –Ω–µ –º–æ–≥—É—Ç –¥–æ–ø—É—Å—Ç–∏—Ç—å —Ç–æ–≥–æ, —á—Ç–æ–±—ã –∏—Ö –Ω–µ–≤–µ—Å—Ç–∞ –æ–∫–∞–∑–∞–ª–∞—Å—å —Å —á—É–∂–∏–º –∂–µ–Ω–∏—Ö–æ–º –≤ –ª–æ–¥–∫–µ –∏–ª–∏ –Ω–∞ –±–µ—Ä–µ–≥—É, –µ—Å–ª–∏ –∏—Ö –Ω–µ—Ç —Ä—è–¥–æ–º."
                    },
                    {
                        "id": "fear_of_the_dark_2024",
                        "name": "–ë–æ—è–∑–Ω—å —Ç–µ–º–Ω–æ—Ç—ã",
                        "task": "–û–¥–Ω–æ–π —Å–µ–º—å–µ –Ω–∞–¥–æ –ø—Ä–æ–π—Ç–∏ –Ω–∞ –¥—Ä—É–≥—É—é —Å—Ç–æ—Ä–æ–Ω—É –¥–ª–∏–Ω–Ω–æ–≥–æ, —É–∑–∫–æ–≥–æ –∏ —Ç–µ–º–Ω–æ–≥–æ —Ç–æ–Ω–Ω–µ–ª—è. –û—Ç–µ—Ü –º–æ–∂–µ—Ç –ø—Ä–æ–π—Ç–∏ —Å–∫–≤–æ–∑—å —Ç–æ–Ω–Ω–µ–ª—å –∑–∞ 1 –º–∏–Ω—É—Ç—É, –º–∞—Ç—å ‚Äî –∑–∞ 2, —Å—ã–Ω ‚Äî –∑–∞ 4, –¥–æ—á—å ‚Äî –∑–∞ 5. –£ –Ω–∏—Ö –µ—Å—Ç—å –æ–¥–∏–Ω —Ñ–∞–∫–µ–ª, –∫–æ—Ç–æ—Ä–æ–≥–æ —Ö–≤–∞—Ç–∏—Ç —Ä–æ–≤–Ω–æ –Ω–∞ 12 –º–∏–Ω—É—Ç. –í —Ç–æ–Ω–Ω–µ–ª–µ –º–æ–≥—É—Ç –∏–¥—Ç–∏ –Ω–µ –±–æ–ª—å—à–µ –¥–≤—É—Ö —á–µ–ª–æ–≤–µ–∫ (—Å–∫–æ—Ä–æ—Å—Ç—å –∏—Ö –ø–µ—Ä–µ–¥–≤–∏–∂–µ–Ω–∏—è –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è —Å–∞–º—ã–º –º–µ–¥–ª–µ–Ω–Ω—ã–º –∏–∑ –Ω–∏—Ö). –ö–∞–∫ —Å–µ–º—å–µ –ø–µ—Ä–µ–±—Ä–∞—Ç—å—Å—è –Ω–∞ –¥—Ä—É–≥—É—é —Å—Ç—Ä–æ–Ω—É —Ç–æ–Ω–Ω–µ–ª—è, –µ—Å–ª–∏ –≤—Å–µ –±–æ—è—Ç—Å—è —Ç–µ–º–Ω–æ—Ç—ã?"
                    },
                    {
                        "id": "tower_of_hanoi_2024",
                        "name": "–•–∞–Ω–æ–π—Å–∫–∞—è –±–∞—à–Ω—è",
                        "task": "–î–∞–Ω—ã —Ç—Ä–∏ —Å—Ç–µ—Ä–∂–Ω—è, –Ω–∞ –æ–¥–∏–Ω –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö –Ω–∞–Ω–∏–∑–∞–Ω—ã 8 (–≤ –æ–±—â–µ–º —Å–ª—É—á–∞–µ ùëÅ) –∫–æ–ª–µ—Ü. –ö–æ–ª—å—Ü–∞ –æ—Ç–ª–∏—á–∞—é—Ç—Å—è —Ä–∞–∑–º–µ—Ä–æ–º –∏ –ª–µ–∂–∞—Ç –º–µ–Ω—å—à–µ–µ –Ω–∞ –±–æ–ª—å—à–µ–º. –ó–∞–¥–∞—á–∞ —Å–æ—Å—Ç–æ–∏—Ç –≤ —Ç–æ–º, —á—Ç–æ–±—ã –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ –ø–∏—Ä–∞–º–∏–¥—É –∏–∑ –∫–æ–ª–µ—Ü –Ω–∞ –¥—Ä—É–≥–æ–π —Å—Ç–µ—Ä–∂–µ–Ω—å. –ó–∞ –æ–¥–∏–Ω —Ä–∞–∑ —Ä–∞–∑—Ä–µ—à–∞–µ—Ç—Å—è –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–Ω–æ –∫–æ–ª—å—Ü–æ, –ø—Ä–∏—á–µ–º –Ω–µ–ª—å–∑—è –∫–ª–∞—Å—Ç—å –±–æ–ª—å—à–µ–µ –∫–æ–ª—å—Ü–æ –Ω–∞ –º–µ–Ω—å—à–µ–µ."
                    },
                    {
                        "id": "eight_queens_2024",
                        "name": "–í–æ—Å–µ–º—å —Ñ–µ—Ä–∑–µ–π",
                        "task": "–¢—Ä–µ–±—É–µ—Ç—Å—è —Ä–∞—Å—Å—Ç–∞–≤–∏—Ç—å –Ω–∞ —à–∞—Ö–º–∞—Ç–Ω–æ–π –¥–æ—Å–∫–µ 8 —Ñ–µ—Ä–∑–µ–π —Ç–∞–∫, —á—Ç–æ–±—ã –Ω–∏ –æ–¥–∏–Ω –∏–∑ –Ω–∏—Ö –Ω–µ –Ω–∞—Ö–æ–¥–∏–ª—Å—è –ø–æ–¥ –±–æ–µ–º –¥—Ä—É–≥–æ–≥–æ (–≤ –æ–±—â–µ–º —Å–ª—É—á–∞–µ —Ä–∞–∑–º–µ—Ä –¥–æ—Å–∫–∏ ùëÅ √ó ùëÅ, –∞ —Ñ–µ—Ä–∑–µ–π ùëÅ)."
                    }
                ];
            }

            function getSolutions()
            {
                // fetch("./spin/solutions/index.json")
                //     .then(response => response.json())
                //     .then(json => console.log(json));
                return {
                    "4.pml": {
                        "task_id": "jealous_couples_2024",
                        "startup_cmd": "spin -t -run 4.pml",
                        "comment": "–†–µ—à–µ–Ω–∏–µ –∞–≤—Ç–æ—Ä–∞ fvcrusher"
                    },
                    "7.pml": {
                        "task_id": "fear_of_the_dark_2024",
                        "startup_cmd": "",
                        "comment": "–†–µ—à–µ–Ω–∏–µ –∞–≤—Ç–æ—Ä–∞ fvcrusher"
                    },
                    "8.pml": {
                        "task_id": "tower_of_hanoi_2024",
                        "startup_cmd": "",
                        "comment": "–†–µ—à–µ–Ω–∏–µ –∞–≤—Ç–æ—Ä–∞ fvcrusher"
                    },
                    "9.pml": {
                        "task_id": "fear_of_the_dark_2024",
                        "startup_cmd": "",
                        "comment": "–ü–æ—Ö–æ–∂–µ, —á—Ç–æ —Ä–µ—à–µ–Ω–∏–µ –≤–µ—Ä–Ω–æ–µ, –Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–µ —É–¥–∞–ª–æ—Å—å - –Ω–µ —Ö–≤–∞—Ç–∏–ª–æ —Ä–µ—Å—É—Ä—Å–æ–≤ –¥–ª—è –æ–±—Å—á–µ—Ç–∞, spin —É–µ—Ö–∞–ª –≤ swap"
                    },
                    "16.pml": {
                        "task_id": "tower_of_hanoi_2024",
                        "startup_cmd": "",
                        "comment": "–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ –¥–ª—è –ø–µ—Ä–µ–±–æ—Ä–∞ –≤—Å–µ—Ö –≤–æ–∑–º–æ–∂–Ω—ã—Ö –ø–µ—Ä–µ—Å—Ç–∞–Ω–æ–≤–æ–∫ –≤ do-od - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ rand() –∏–ª–∏ select() (—á–∏—Ç–∞–π—Ç–µ –≤ –º–∞–Ω–∞—Ö –Ω–∞ spin). –û–¥–Ω–∞–∫–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —ç—Ç–∏—Ö –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –ø–æ–≤—ã—à–∞–µ—Ç —Ä–∞—Å—Ö–æ–¥—ã —Ä–µ—Å—É—Ä—Å–æ–≤ –∏ –≤—Ä–µ–º—è –æ–±—Å—á–µ—Ç–∞ –∑–∞–¥–∞—á–∏. –ï—Å–ª–∏ —É –≤–∞—Å –º–æ—â–Ω—ã–π –ü–ö, –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º select()."
                    }
                };
            }

            function getSolutionText(filename)
            {
                // fetch(`./spin/solutions/${filename}`)
                //     .then(response => response.json())
                //     .then(json => console.log(json));
                texts = {
                    "4.pml": `bit w1 = 0;
bit w2 = 0;
bit w3 = 0;
bit m1 = 0;
bit m2 = 0;
bit m3 = 0;
bit boat = 0;

#define PRINTF_STATUS printf("–ö—Ç–æ –≥–¥–µ: %d %d %d %d %d %d\\n", m1, m2, m3, w1, w2, w3)

#define GOAL (w1 && w2 && w3 && m1 && m2 && m3)

active proctype Transfer() {
    do
    :: (boat == w1) -> atomic { printf("–ù–µ–≤–µ—Å—Ç–∞ #1 –ø–µ—Ä–µ–ø–ª—ã–ª–∞ —Å –±–µ—Ä–µ–≥–∞ %d –Ω–∞ –±–µ—Ä–µ–≥ %d\\n", w1, !w1); w1 = !w1; boat = !boat; PRINTF_STATUS; }
    :: (boat == w2) -> atomic { printf("–ù–µ–≤–µ—Å—Ç–∞ #2 –ø–µ—Ä–µ–ø–ª—ã–ª–∞ —Å –±–µ—Ä–µ–≥–∞ %d –Ω–∞ –±–µ—Ä–µ–≥ %d\\n", w2, !w2); w2 = !w2; boat = !boat; PRINTF_STATUS; }
    :: (boat == w3) -> atomic { printf("–ù–µ–≤–µ—Å—Ç–∞ #3 –ø–µ—Ä–µ–ø–ª—ã–ª–∞ —Å –±–µ—Ä–µ–≥–∞ %d –Ω–∞ –±–µ—Ä–µ–≥ %d\\n", w3, !w3); w3 = !w3; boat = !boat }

    :: (boat == m1) -> atomic { printf("–ñ–µ–Ω–∏—Ö #1 –ø–µ—Ä–µ–ø–ª—ã–ª —Å –±–µ—Ä–µ–≥–∞ %d –Ω–∞ –±–µ—Ä–µ–≥ %d\\n", m1, !m1); m1 = !m1; boat = !boat; PRINTF_STATUS; }
    :: (boat == m2) -> atomic { printf("–ñ–µ–Ω–∏—Ö #2 –ø–µ—Ä–µ–ø–ª—ã–ª —Å –±–µ—Ä–µ–≥–∞ %d –Ω–∞ –±–µ—Ä–µ–≥ %d\\n", m2, !m2); m2 = !m2; boat = !boat; PRINTF_STATUS; }
    :: (boat == m3) -> atomic { printf("–ñ–µ–Ω–∏—Ö #3 –ø–µ—Ä–µ–ø–ª—ã–ª —Å –±–µ—Ä–µ–≥–∞ %d –Ω–∞ –±–µ—Ä–µ–≥ %d\\n", m3, !m3); m3 = !m3; boat = !boat; PRINTF_STATUS; }

    :: (boat == m1 && boat == m2) -> atomic { printf("–ñ–µ–Ω–∏—Ö–∏ #1 –∏ #2 –ø–µ—Ä–µ–ø–ª—ã–ª–∏ —Å –±–µ—Ä–µ–≥–∞ %d –Ω–∞ –±–µ—Ä–µ–≥ %d\\n", m1, !m1); m1 = !m1; m2 = !m2; boat = !boat; PRINTF_STATUS; }
    :: (boat == m2 && boat == m3) -> atomic { printf("–ñ–µ–Ω–∏—Ö–∏ #2 –∏ #3 –ø–µ—Ä–µ–ø–ª—ã–ª–∏ —Å –±–µ—Ä–µ–≥–∞ %d –Ω–∞ –±–µ—Ä–µ–≥ %d\\n", m2, !m2); m2 = !m2; m3 = !m3; boat = !boat; PRINTF_STATUS; }
    :: (boat == m1 && boat == m3) -> atomic { printf("–ñ–µ–Ω–∏—Ö–∏ #1 –∏ #3 –ø–µ—Ä–µ–ø–ª—ã–ª–∏ —Å –±–µ—Ä–µ–≥–∞ %d –Ω–∞ –±–µ—Ä–µ–≥ %d\\n", m1, !m1); m1 = !m1; m3 = !m3; boat = !boat; PRINTF_STATUS; }

    :: (boat == w1 && boat == w2) -> atomic { printf("–ù–µ–≤–µ—Å—Ç—ã #1 –∏ #2 –ø–µ—Ä–µ–ø–ª—ã–ª–∏ —Å –±–µ—Ä–µ–≥–∞ %d –Ω–∞ –±–µ—Ä–µ–≥ %d\\n", w1, !w1); w1 = !w1; w2 = !w2; boat = !boat; PRINTF_STATUS; }
    :: (boat == w2 && boat == w3) -> atomic { printf("–ù–µ–≤–µ—Å—Ç—ã #2 –∏ #3 –ø–µ—Ä–µ–ø–ª—ã–ª–∏ —Å –±–µ—Ä–µ–≥–∞ %d –Ω–∞ –±–µ—Ä–µ–≥ %d\\n", w2, !w2); w2 = !w2; w3 = !w3; boat = !boat; PRINTF_STATUS; }
    :: (boat == w1 && boat == w3) -> atomic { printf("–ù–µ–≤–µ—Å—Ç—ã #1 –∏ #3 –ø–µ—Ä–µ–ø–ª—ã–ª–∏ —Å –±–µ—Ä–µ–≥–∞ %d –Ω–∞ –±–µ—Ä–µ–≥ %d\\n", w1, !w1); w1 = !w1; w3 = !w3; boat = !boat; PRINTF_STATUS; }

    :: (boat == m1 && boat == w1) -> atomic { printf("–ñ–µ–Ω–∏—Ö –∏ –Ω–µ–≤–µ—Å—Ç–∞ #1 –ø–µ—Ä–µ–ø–ª—ã–ª–∏ —Å –±–µ—Ä–µ–≥–∞ %d –Ω–∞ –±–µ—Ä–µ–≥ %d\\n", m1, !m1); m1 = !m1; w1 = !w1; boat = !boat; PRINTF_STATUS; }
    :: (boat == m2 && boat == w2) -> atomic { printf("–ñ–µ–Ω–∏—Ö –∏ –Ω–µ–≤–µ—Å—Ç–∞ #2 –ø–µ—Ä–µ–ø–ª—ã–ª–∏ —Å –±–µ—Ä–µ–≥–∞ %d –Ω–∞ –±–µ—Ä–µ–≥ %d\\n", m2, !m2); m2 = !m2; w2 = !w2; boat = !boat; PRINTF_STATUS; }
    :: (boat == m3 && boat == w3) -> atomic { printf("–ñ–µ–Ω–∏—Ö –∏ –Ω–µ–≤–µ—Å—Ç–∞ #3 –ø–µ—Ä–µ–ø–ª—ã–ª–∏ —Å –±–µ—Ä–µ–≥–∞ %d –Ω–∞ –±–µ—Ä–µ–≥ %d\\n", m3, !m3); m3 = !m3; w3 = !w3; boat = !boat; PRINTF_STATUS; }
    od
}

ltl { !(<>GOAL) }`,
                    "7.pml": `bit father = 0;
bit mother = 0;
bit son = 0;
bit dauther = 0;
bit torch = 0;
byte elapsed_time = 0;

#define FATHER_TIME 1
#define MOTHER_TIME 2
#define SON_TIME 4
#define DAUGTHER_TIME 5
#define TORCH_TIME 12

#define STATUS printf("–ö—Ç–æ –≥–¥–µ: %d %d %d %d, –ü—Ä–æ—à–ª–æ %d –º–∏–Ω—É—Ç\\n", father, mother, son, dauther, elapsed_time)

#define GOAL (father && mother && son && dauther && elapsed_time <= TORCH_TIME)

active proctype Tunnel() {
    do    
    :: (father == torch && elapsed_time < TORCH_TIME) ->  atomic { printf("–û—Ç–µ—Ü –ø—Ä–æ—à–µ–ª –∏–∑ %d –≤ %d", father, !father);    elapsed_time = elapsed_time + FATHER_TIME;    father = !father;    torch = !torch;  STATUS; }
    :: (mother == torch && elapsed_time < TORCH_TIME) ->  atomic { printf("–ú–∞—Ç—å –ø—Ä–æ—à–ª–∞ –∏–∑ %d –≤ %d", mother, !mother);    elapsed_time = elapsed_time + MOTHER_TIME;    mother = !mother;    torch = !torch;  STATUS; }
    :: (son == torch && elapsed_time < TORCH_TIME) ->     atomic { printf("–°—ã–Ω –ø—Ä–æ—à–µ–ª –∏–∑ %d –≤ %d", son, !son);           elapsed_time = elapsed_time + SON_TIME;       son = !son;          torch = !torch;  STATUS; }
    :: (dauther == torch && elapsed_time < TORCH_TIME) -> atomic { printf("–î–æ—á—å –ø—Ä–æ—à–ª–∞ –∏–∑ %d –≤ %d", dauther, !dauther);  elapsed_time = elapsed_time + DAUGTHER_TIME;  dauther = !dauther;  torch = !torch;  STATUS; }

    :: (father == torch && mother == torch && elapsed_time < TORCH_TIME) ->  atomic { printf("–û—Ç–µ—Ü –∏ –º–∞—Ç—å –ø—Ä–æ—à–ª–∏ –∏–∑ %d –≤ %d", father, !father);  elapsed_time = elapsed_time + MOTHER_TIME;    father = !father;  mother =! mother;    torch = !torch;  STATUS; }
    :: (father == torch && son == torch && elapsed_time < TORCH_TIME) ->     atomic { printf("–û—Ç–µ—Ü –∏ —Å—ã–Ω –ø—Ä–æ—à–ª–∏ –∏–∑ %d –≤ %d", father, !father);   elapsed_time = elapsed_time + SON_TIME;       father = !father;  son =! son;          torch = !torch;  STATUS; }
    :: (father == torch && dauther == torch && elapsed_time < TORCH_TIME) -> atomic { printf("–û—Ç–µ—Ü –∏ –¥–æ—á—å –ø—Ä–æ—à–ª–∏ –∏–∑ %d –≤ %d", father, !father);  elapsed_time = elapsed_time + DAUGTHER_TIME;  father = !father;  dauther =! dauther;  torch = !torch;  STATUS; }
    :: (mother == torch && son == torch && elapsed_time < TORCH_TIME) ->     atomic { printf("–ú–∞—Ç—å –∏ —Å—ã–Ω –ø—Ä–æ—à–ª–∏ –∏–∑ %d –≤ %d", mother, !mother);   elapsed_time = elapsed_time + SON_TIME;       mother = !mother;  son =! son;          torch = !torch;  STATUS; }
    :: (mother == torch && dauther == torch && elapsed_time < TORCH_TIME) -> atomic { printf("–ú–∞—Ç—å –∏ –¥–æ—á—å –ø—Ä–æ—à–ª–∏ –∏–∑ %d –≤ %d", mother, !mother);  elapsed_time = elapsed_time + DAUGTHER_TIME;  mother = !mother;  dauther =! dauther;  torch = !torch;  STATUS; }
    :: (son == torch && dauther == torch && elapsed_time < TORCH_TIME) ->    atomic { printf("–°—ã–Ω –∏ –¥–æ—á—å –ø—Ä–æ—à–ª–∏ –∏–∑ %d –≤ %d", son, !son);         elapsed_time = elapsed_time + DAUGTHER_TIME;  son = !son;        dauther =! dauther;  torch = !torch;  STATUS; }
    od
}

ltl { !(<>GOAL); }`,
                    "8.pml": `// Works for every N!

/* –í—Å–µ–≥–æ 9 –≤–æ–∑–º–æ–∂–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π:
 *   1) –û–±–º–µ–Ω –º–µ–∂–¥—É 1 –∏ 2 (–æ–±–µ –Ω–µ–ø—É—Å—Ç—ã–µ)
 *   2) –û–±–º–µ–Ω –º–µ–∂–¥—É 2 –∏ 3 (–æ–±–µ –Ω–µ–ø—É—Å—Ç—ã–µ)
 *   3) –û–±–º–µ–Ω –º–µ–∂–¥—É 1 –∏ 3 (–æ–±–µ –Ω–µ–ø—É—Å—Ç—ã–µ)
 *   4) –° –Ω–µ–ø—É—Å—Ç–æ–π 1 –Ω–∞ –ø—É—Å—Ç—É—é 2
 *   5) –° –Ω–µ–ø—É—Å—Ç–æ–π 2 –Ω–∞ –ø—É—Å—Ç—É—é 1
 *   6) –° –Ω–µ–ø—É—Å—Ç–æ–π 2 –Ω–∞ –ø—É—Å—Ç—É—é 3
 *   7) –° –Ω–µ–ø—É—Å—Ç–æ–π 3 –Ω–∞ –ø—É—Å—Ç—É—é 2
 *   8) –° –Ω–µ–ø—É—Å—Ç–æ–π 1 –Ω–∞ –ø—É—Å—Ç—É—é 3
 *   9) –° –Ω–µ–ø—É—Å—Ç–æ–π 3 –Ω–∞ –ø—É—Å—Ç—É—é 1
 */

// time spin -run -i 8.pml --> 68.8 sec

#define N 8

byte rod1[N], rod2[N], rod3[N] = 0;
byte rod1_idx, rod2_idx, rod3_idx = 0;

#define MOVE(from, to) \
    rod##to[rod##to##_idx] = rod##from[rod##from##_idx - 1]; \
    rod##from[rod##from##_idx - 1] = 0; \
    rod##from##_idx--; \
    rod##to##_idx++;

#define HEAD(where) rod##where[rod##where##_idx - 1]

#define PRINT_STATE //printf("rod1: %d %d %d %d %d %d %d %d\\n\\trod2: %d %d %d %d %d %d %d %d\\n\\trod3: %d %d %d %d %d %d %d %d\\n", rod1[0], rod1[1], rod1[2], rod1[3], rod1[4], rod1[5], rod1[6], rod1[7], rod2[0], rod2[1], rod2[2], rod2[3], rod2[4], rod2[5], rod2[6], rod2[7], rod3[0], rod3[1], rod3[2], rod3[3], rod3[4], rod3[5], rod3[6], rod3[7])
#define PRINT_ACTION(from, to) printf("–ü–µ—Ä–µ–∫–ª–∞–¥—ã–≤–∞—é –∫–æ–ª—å—Ü–æ —Ä–∞–∑–º–µ—Ä–∞ %d —Å–æ —Å—Ç–µ—Ä–∂–Ω—è %d –Ω–∞ —Å—Ç–µ—Ä–∂–µ–Ω—å %d\\n", rod##from[rod##from##_idx - 1], from, to);

// –ï—Å–ª–∏ –Ω–∞ –∏–Ω—Ç–µ—Ä–µ—Å—É—é—â–µ–º –Ω–∞—Å —Å—Ç–µ—Ä–∂–Ω–µ –ª–µ–∂–∞—Ç –≤—Å–µ –∫–æ–ª—å—Ü–∞, –∞ –Ω–∞ –¥—Ä—É–≥–∏—Ö - –Ω–∏ –æ–¥–Ω–æ–≥–æ,
// —Ç–æ –∑–∞–¥–∞—á–∞ —Ä–µ—à–µ–Ω–∞, —Ç–∞–∫ –∫–∞–∫ –ø–µ—Ä–µ–∫–ª–∞–¥—ã–≤–∞—Ç—å –º–æ–∂–µ–º —Ç–æ–ª—å–∫–æ –º–µ–Ω—å—à–µ–µ –Ω–∞ –±–æ–ª—å—à–µ–µ –ø–æ 
// proctype.
#define ROD_FILLED(target_rod) (rod##target_rod##_idx == N)

#define GOAL (ROD_FILLED(2) || ROD_FILLED(3)) 

active proctype Hanoi() {
    byte idx;
    for (idx : 0 .. N - 1) {
        rod1[idx] = N - idx;
    }
    rod1_idx = N;

    do
    :: (rod1_idx > 0 && rod2_idx > 0) -> atomic {
        if
        :: (HEAD(1) < HEAD(2)) -> atomic { PRINT_ACTION(1, 2); MOVE(1, 2); PRINT_STATE; }
        :: (HEAD(1) > HEAD(2)) -> atomic { PRINT_ACTION(2, 1); MOVE(2, 1); PRINT_STATE; }
        fi
    }

    :: (rod2_idx > 0 && rod3_idx > 0) -> atomic {
        if
        :: (HEAD(2) < HEAD(3)) -> atomic { PRINT_ACTION(2, 3); MOVE(2, 3); PRINT_STATE; }
        :: (HEAD(2) > HEAD(3)) -> atomic { PRINT_ACTION(3, 2); MOVE(3, 2); PRINT_STATE; }
        fi
    }

    :: (rod1_idx > 0 && rod3_idx > 0) -> atomic {
        if
        :: (HEAD(1) < HEAD(3)) -> atomic { PRINT_ACTION(1, 3); MOVE(1, 3); PRINT_STATE; }
        :: (HEAD(1) > HEAD(3)) -> atomic { PRINT_ACTION(3, 1); MOVE(3, 1); PRINT_STATE; }
        fi
    }

    :: (rod1_idx > 0 && rod2_idx == 0) -> atomic { PRINT_ACTION(1, 2); MOVE(1, 2); PRINT_STATE; }
    :: (rod1_idx == 0 && rod2_idx > 0) -> atomic { PRINT_ACTION(2, 1); MOVE(2, 1); PRINT_STATE; }

    :: (rod2_idx > 0 && rod3_idx == 0) -> atomic { PRINT_ACTION(2, 3); MOVE(2, 3); PRINT_STATE; }
    :: (rod2_idx == 0 && rod3_idx > 0) -> atomic { PRINT_ACTION(3, 2); MOVE(3, 2); PRINT_STATE; }

    :: (rod1_idx > 0 && rod3_idx == 0) -> atomic { PRINT_ACTION(1, 3); MOVE(1, 3); PRINT_STATE; }
    :: (rod1_idx == 0 && rod3_idx > 0) -> atomic { PRINT_ACTION(3, 1); MOVE(3, 1); PRINT_STATE; }
    od
}

ltl { !(<>GOAL); }`,
                    "9.pml": `#define N 8

int visited_count = 0;
int i_current, j_current = 0;
typedef line {
    bit content[N] = 0
};
line field[N];

#define visited(i, j) (field[i].content[j] == 1)

inline move(i, j) {
    if
    :: (!visited(i, j)) -> atomic {
        i_current = i;
        j_current = j;
        field[i].content[j] = 1;
        visited_count++
    }
    fi;
}

#define GOAL (visited_count == N * N) 

proctype HobbieHorsing(int i, j) {
    move(i, j);

    do
    :: (i >= 2 && j >= 1) -> atomic {
        printf("Moving to (%d, %d)\\n", i - 2, j - 1);
    }
    :: (i >= 2 && j < N - 1) -> atomic {
        printf("Moving to (%d, %d)\\n", i - 2, j + 1);
    }

    :: (i >= 1 && j >= 2) -> atomic {
        printf("Moving to (%d, %d)\\n", i - 1, j - 2);
    }
    :: (i >= 1 && j < N - 2) -> atomic {
        printf("Moving to (%d, %d)\\n", i - 1, j + 2);
    }

    :: (i < N - 2 && j >= 1) -> atomic {
        printf("Moving to (%d, %d)\\n", i + 2, j - 1);
    }
    :: (i < N - 2 && j < N - 1) -> atomic {
        printf("Moving to (%d, %d)\\n", i + 2, j + 1);
    }

    :: (i < N - 1 && j >= 2) -> atomic {
        printf("Moving to (%d, %d)\\n", i + 1, j - 2);
    }
    :: (i < N - 1 && j < N - 2) -> atomic {
        printf("Moving to (%d, %d)\\n", i + 1, j + 2);
    }
    od
}

init {
    run HobbieHorsing(3, 3);
}

ltl { !(<>GOAL); }`,
                    "16.pml": `#define WHITE 0
#define BLACK 1

#define EMPTY 0
#define FILLED 1

// –õ–∏–Ω–∏—è —à–∞—à–µ–∫ –±—É–¥–µ—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∞ –ø–∞—Ä–∞–º–∏ –±–∏—Ç–æ–≤ - –ø–µ—Ä–≤—ã–π –±–∏—Ç —É–∫–∞–∑—ã–≤–∞–µ—Ç, –∑–∞–Ω—è—Ç–∞ –ª–∏
// —è—á–µ–π–∫–∞, –≤—Ç–æ—Ä–∞—è —è—á–µ–π–∫–∞ —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ —Ü–≤–µ—Ç —à–∞—à–∫–∏ –≤ —è—á–µ–π–∫–µ, –µ—Å–ª–∏ —è—á–µ–π–∫–∞ –∑–∞–Ω—è—Ç–∞.
// –û—á–µ–≤–∏–¥–Ω–æ, —è—á–µ–µ–∫ –≤—Å–µ–≥–æ 10 (6 —à–∞—à–µ–∫ + 4 –ø—É—Å—Ç—ã—Ö –º–µ—Å—Ç–∞ —Å–ª–µ–≤–∞).
bit field[20] = { 
    EMPTY, 0, // ‚ïÆ
    EMPTY, 0, // ‚îú‚îÄ –ü—É—Å—Ç—ã–µ —è—á–µ–π–∫–∏ (—Ü–≤–µ—Ç –æ–±–Ω—É–ª—è–µ–º, –Ω–∞–º –æ–Ω –Ω–µ –≤–∞–∂–µ–Ω —Å EMPTY —è—á–µ–π–∫–∞–º–∏).
    EMPTY, 0, // ‚îÇ
    EMPTY, 0, // ‚ïØ
    FILLED, BLACK, // ‚ïÆ
    FILLED, WHITE, // ‚îÇ
    FILLED, BLACK, // ‚îú‚îÄ –†–∞–∑–ª–æ–∂–µ–Ω–Ω—ã–µ —à–∞—à–∫–∏ (—á–µ—Ä–Ω–∞—è, –±–µ–ª–∞—è, —á–µ—Ä–Ω–∞—è, –±–µ–ª–∞—è, —á–µ—Ä–Ω–∞—è, –±–µ–ª–∞—è).
    FILLED, WHITE, // ‚îÇ
    FILLED, BLACK, // ‚îÇ
    FILLED, WHITE  // ‚ïØ
};


// –ü—Ä–æ—â–µ –≤—Å–µ–≥–æ –±—É–¥–µ—Ç –ø–æ–Ω—è—Ç—å, —á—Ç–æ –≤—Å–µ –±–µ–ª—ã–µ —Å–ª–µ–≤–∞, –∞ –≤—Å–µ —á–µ—Ä–Ω—ã–µ - —Å–ø—Ä–∞–≤–∞ –ø–æ 
// –∏–Ω–¥–µ–∫—Å—É –ø–æ—Å–ª–µ–¥–Ω–µ–π –±–µ–ª–æ–π –∏ –∏–Ω–¥–µ–∫—Å—É –ø–µ—Ä–≤–æ–π —á–µ—Ä–Ω–æ–π —à–∞—à–∫–∏.
// –ï—Å–ª–∏ last_white < first_black - –∑–Ω–∞—á–∏—Ç –º—ã –¥–æ–±–∏–ª–∏—Å—å —Ç–æ–≥–æ, —á–µ–≥–æ —Ö–æ—Ç–µ–ª–∏
int last_white = 9;
int first_black = 4;


// –°—á–µ—Ç—á–∏–∫ —à–∞–≥–æ–≤ —Ä–µ—à–µ–Ω–∏—è
byte steps = 0;

#define SAFE steps < 3
#define GOAL last_white < first_black


// –î–ª—è —É–¥–æ–±—Å—Ç–≤–∞ —á—Ç–µ–Ω–∏—è –ø–æ–ª—É—á–µ–Ω–Ω–æ–≥–æ —Ä–µ—à–µ–Ω–∏—è –∑–∞–≥–∞–¥–∫–∏
inline printState() {
    printf("      ‚ï≠‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚î¨‚îÄ‚î¨‚îÄ‚î¨‚îÄ‚î¨‚îÄ‚î¨‚îÄ‚î¨‚îÄ‚î¨‚îÄ‚î¨‚îÄ‚î¨‚îÄ‚ïÆ\\n")
    printf("‚ï≠‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§–ò–Ω–¥–µ–∫—Å‚îÇ0‚îÇ1‚îÇ2‚îÇ3‚îÇ4‚îÇ5‚îÇ6‚îÇ7‚îÇ8‚îÇ9‚îÇ  ' ' - –ü—É—Å—Ç–æ–µ –º–µ—Å—Ç–æ\\n");
    printf("‚îÇ–®–ê–ì %d‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îº‚îÄ‚îº‚îÄ‚îº‚îÄ‚îº‚îÄ‚îº‚îÄ‚îº‚îÄ‚îº‚îÄ‚îº‚îÄ‚îº‚îÄ‚î§  'B' - –ß–µ—Ä–Ω–∞—è —à–∞—à–∫–∞\\n", steps);
    printf("‚ï∞‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§–®–∞—à–∫–∞ ‚îÇ%c‚îÇ%c‚îÇ%c‚îÇ%c‚îÇ%c‚îÇ%c‚îÇ%c‚îÇ%c‚îÇ%c‚îÇ%c‚îÇ  'W' - –ë–µ–ª–∞—è —à–∞—à–∫–∞\\n", 
        (!field[0] -> ' ' : (field[1] -> 'B' : 'W')),
        (!field[2] -> ' ' : (field[3] -> 'B' : 'W')),
        (!field[4] -> ' ' : (field[5] -> 'B' : 'W')),
        (!field[6] -> ' ' : (field[7] -> 'B' : 'W')),
        (!field[8] -> ' ' : (field[9] -> 'B' : 'W')),
        (!field[10] -> ' ' : (field[11] -> 'B' : 'W')),
        (!field[12] -> ' ' : (field[13] -> 'B' : 'W')),
        (!field[14] -> ' ' : (field[15] -> 'B' : 'W')),
        (!field[16] -> ' ' : (field[17] -> 'B' : 'W')),
        (!field[18] -> ' ' : (field[19] -> 'B' : 'W'))
    );
    printf("      ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚î¥‚îÄ‚î¥‚îÄ‚î¥‚îÄ‚î¥‚îÄ‚î¥‚îÄ‚î¥‚îÄ‚î¥‚îÄ‚î¥‚îÄ‚î¥‚îÄ‚î§\\n");
    printf("      ‚îÇ –ü–æ—Å–ª–µ–¥–Ω—è—è –±–µ–ª–∞—è: %d       ‚îÇ\\n", last_white);
    printf("      ‚îÇ –ü–µ—Ä–≤–∞—è —á–µ—Ä–Ω–∞—è: %d         ‚îÇ\\n", first_black);
    printf("      ‚ï∞‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ïØ\\n\\n");
}


// –ü–µ—Ä–µ–º–µ—â–∞–µ–º –¥–≤–µ —à–∞—à–∫–∏ –Ω–∞—á–∏–Ω–∞—è —Å –∏–Ω–¥–µ–∫—Å–∞ i (i –∏ i+1 —à–∞—à–∫–∏) –Ω–∞ –¥–≤–∞ –ø—É—Å—Ç—ã—Ö –º–µ—Å—Ç–∞
// –Ω–∞—á–∏–Ω–∞—è —Å j (j –∏ j+1 –º–µ—Å—Ç–∞)
// –ü–æ–ø—É—Ç–Ω–æ —É–≤–µ–ª–∏—á–∏–≤–∞–µ–º –∫–æ–ª-–≤–æ —à–∞–≥–æ–≤
inline move(i, j) {
    atomic {
        steps++;

        field[2 * j] = field[2 * i];
        field[2 * j + 1] = field[2 * i + 1];
        field[2 * (j + 1)] = field[2 * (i + 1)];
        field[2 * (j + 1) + 1] = field[2 * (i + 1) + 1];

        field[2 * i] = 0;
        field[2 * i + 1] = 0;
        field[2 * (i + 1)] = 0;
        field[2 * (i + 1) + 1] = 0;

        byte k;
        for (k : 0..9) {
            last_white = ((field[k * 2] && field[k * 2 + 1] == WHITE) -> k : last_white);
            first_black = ((field[(9 - k) * 2] && field[(9 - k) * 2 + 1] == BLACK) -> (9 - k) : first_black);
        }
    }
}


// –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–æ–∂–µ–º –ª–∏ –ø–µ—Ä–µ–¥–≤–∏–Ω—É—Ç—å —à–∞—à–∫–∏ –Ω–∞—á–∏–Ω–∞—è —Å –∏–Ω–¥–µ–∫—Å–∞ i (i –∏ i+1 —à–∞—à–∫–∏) –Ω–∞
// –¥–≤–∞ –ø—É—Å—Ç—ã—Ö –º–µ—Å—Ç–∞ –Ω–∞—á–∏–Ω–∞—è —Å j (j –∏ j+1 –º–µ—Å—Ç–∞)
#define canMove(i, j) \
    field[2 * i] && field[2 * (i + 1)] && \
    !field[2 * j] && !field[2 * (j + 1)]


// –í–µ—Ç–æ–∫ –º–Ω–æ–≥–æ - —Å–¥–µ–ª–∞–µ–º –¥–µ—Ñ–∞–π–Ω –¥–ª—è –ø—Ä–æ—Å—Ç–æ—Ç—ã
#define branch(i, j) (canMove(i, j)) -> atomic { printf("–®–ê–ì %d: –î–≤–∏–≥–∞–µ–º —à–∞—à–∫–∏ —Å –º–µ—Å—Ç %d –∏ %d –Ω–∞ –º–µ—Å—Ç–∞ %d –∏ %d\\n", steps+1, i, i+1, j, j+1); move(i, j); printState(); }


proctype Checkers() {
    do
    :: branch(0, 2)
    :: branch(0, 3)
    :: branch(0, 4)
    :: branch(0, 5)
    :: branch(0, 6)
    :: branch(0, 7)
    :: branch(0, 8)
    :: branch(1, 3)
    :: branch(1, 4)
    :: branch(1, 5)
    :: branch(1, 6)
    :: branch(1, 7)
    :: branch(1, 8)
    :: branch(2, 0)
    :: branch(2, 4)
    :: branch(2, 5)
    :: branch(2, 6)
    :: branch(2, 7)
    :: branch(2, 8)
    :: branch(3, 0)
    :: branch(3, 1)
    :: branch(3, 5)
    :: branch(3, 6)
    :: branch(3, 7)
    :: branch(3, 8)
    :: branch(4, 0)
    :: branch(4, 1)
    :: branch(4, 2)
    :: branch(4, 6)
    :: branch(4, 7)
    :: branch(4, 8)
    :: branch(5, 0)
    :: branch(5, 1)
    :: branch(5, 2)
    :: branch(5, 3)
    :: branch(5, 7)
    :: branch(5, 8)
    :: branch(6, 0)
    :: branch(6, 1)
    :: branch(6, 2)
    :: branch(6, 3)
    :: branch(6, 4)
    :: branch(6, 8)
    :: branch(7, 0)
    :: branch(7, 1)
    :: branch(7, 2)
    :: branch(7, 3)
    :: branch(7, 4)
    :: branch(7, 5)
    :: branch(8, 0)
    :: branch(8, 1)
    :: branch(8, 2)
    :: branch(8, 3)
    :: branch(8, 4)
    :: branch(8, 5)
    :: branch(8, 6)
    od
}

init {
    printf("–ò–ó–ù–ê–ß–ê–õ–¨–ù–û–ï –°–û–°–¢–û–Ø–ù–ò–ï\\n")
    printState();
    run Checkers();
}

ltl { !(SAFE U GOAL); }`
                }

                return texts[filename];
            }

            function createExpandButton(id, text) {
                let button = document.createElement("button");
                button.id = id;
                button.classList.add("expand-button");
                button.onclick = function() { expandTask(button); };
                button.appendChild(document.createTextNode(text));

                let arrow = document.createElement("div");
                arrow.classList.add("dropdown-arrow", "restore-state");
                arrow.appendChild(document.createTextNode("‚ñº"));
                button.appendChild(arrow);

                return button;
            }

            function createTask(task_name, task_id)
            {
                let task = document.createElement("p");
                task.id = `task:${task_id}`;
                task.classList.add("task-header", "restore-state");

                let name = document.createElement("span");
                task.appendChild(name);
                name.classList.add("task-name");
                name.appendChild(document.createTextNode(task_name));

                let buttons = document.createElement("span");
                task.appendChild(buttons);
                buttons.classList.add("task-buttons");

                let text_button = createExpandButton(`expandTask:${task_id}`, "–£—Å–ª–æ–≤–∏–µ");
                buttons.appendChild(text_button);
                let solutions_button = createExpandButton(`expandSolutions:${task_id}`, "–†–µ—à–µ–Ω–∏—è");
                buttons.appendChild(solutions_button);

                return task;
            }

            function createTaskText(text, task_id)
            {
                let task_text = document.createElement("div");
                task_text.id = `taskText:${task_id}`;
                task_text.classList.add("task-data", "restore-state");

                let task_par = document.createElement("p");
                task_par.classList.add("task-text-par");
                task_par.appendChild(document.createTextNode(text));

                task_text.appendChild(task_par);
                return task_text;
            }

            // solutions - dict: {<filename> : {"startup_cmd": <startup_cmd>, "comment": <comment>}, ...}
            function createTaskSolutions(solutions, task_id)
            {
                let task_solutions = document.createElement("div");
                task_solutions.id = `taskSolutions:${task_id}`;
                task_solutions.classList.add("task-data", "restore-state");

                if (Object.keys(solutions).length == 0)
                {
                    let warning = document.createElement("p");
                    warning.classList.add("missing-solution-warning");
                    warning.appendChild(document.createTextNode("–î–ª—è –¥–∞–Ω–Ω–æ–π –∑–∞–¥–∞—á–∏ –µ—â–µ –Ω–µ—Ç –Ω–∏ –æ–¥–Ω–æ–≥–æ —Ä–µ—à–µ–Ω–∏—è. –í —Å–ª—É—á–∞–µ, –µ—Å–ª–∏ —É –≤–∞—Å –∏–º–µ–µ—Ç—Å—è —Ä–µ—à–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏, —Å–æ–∑–¥–∞–π—Ç–µ issue –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞ –∏–ª–∏ —Å–¥–µ–ª–∞–π—Ç–µ pull request —Å–æ–≥–ª–∞—Å–Ω–æ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏."));
                    task_solutions.appendChild(warning);
                    return task_solutions;
                }

                let variants_row = document.createElement("div");
                variants_row.classList.add("variants-row");
                task_solutions.appendChild(variants_row);

                let counter = 0;
                for (let filename in solutions)
                {
                    let button = document.createElement("button");
                    button.id = `openSolution:${task_id}:${++counter}`;
                    button.classList.add("solution-variant");
                    button.onclick = function() { openSolution(button); };
                    button.textContent = filename;
                    variants_row.appendChild(button);

                    let solution = document.createElement("div");
                    solution.id = `solution:${task_id}:${counter}`;
                    solution.classList.add("solution-text");

                    if (solutions[filename].comment.length != 0)
                    {
                        let comment = document.createElement("p");
                        let pre_comment = document.createElement("span");
                        pre_comment.classList.add("pre-comment");
                        let comment_body = document.createElement("span");
                        comment_body.classList.add("comment-body");

                        pre_comment.appendChild(document.createTextNode("–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∞–≤—Ç–æ—Ä–∞: "));
                        comment_body.appendChild(document.createTextNode(solutions[filename].comment));
                        comment.appendChild(pre_comment);
                        comment.appendChild(comment_body);

                        solution.appendChild(comment);
                    }

                    if (solutions[filename].startup_cmd.length != 0)
                    {
                        let comment = document.createElement("p");
                        let pre_comment = document.createElement("span");
                        pre_comment.classList.add("pre-comment");
                        let comment_body = document.createElement("span");
                        comment_body.classList.add("comment-body", "monotype");

                        pre_comment.appendChild(document.createTextNode("–ö–æ–º–∞–Ω–¥–∞ –∑–∞–ø—É—Å–∫–∞ spin: "));
                        comment_body.appendChild(document.createTextNode(solutions[filename].startup_cmd));
                        comment.appendChild(pre_comment);
                        comment.appendChild(comment_body);

                        solution.appendChild(comment);
                    }

                    let solution_text = getSolutionText(filename);

                    let code_container = document.createElement("div");
                    code_container.classList.add("code-container");

                    let header = document.createElement("div");
                    header.classList.add("code-header");

                    let buttons = document.createElement("div");
                    buttons.classList.add("source-buttons");

                    let header_filename = document.createElement("span");
                    header_filename.classList.add("code-filename");
                    header_filename.appendChild(document.createTextNode(filename));

                    let copied_notification = document.createElement("span");
                    copied_notification.classList.add("copied-notification");
                    copied_notification.appendChild(document.createTextNode("–°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ!"));

                    let copy_button = document.createElement("button");
                    copy_button.classList.add("source", "copy");
                    let copy_symbol = document.createElement("i");
                    copy_symbol.classList.add("fa", "fa-copy");
                    copy_button.appendChild(copy_symbol);
                    copy_button.onclick = function() {
                        navigator.clipboard.writeText(solution_text);
                        copied_notification.style.color = "black";
                        setTimeout(function() { copied_notification.style.color = "transparent"; }, 3000);
                    };

                    let download_button = document.createElement("button");
                    download_button.classList.add("source", "download");
                    let download_symbol = document.createElement("i");
                    download_symbol.classList.add("fa", "fa-download");
                    download_button.appendChild(download_symbol);
                    download_button.onclick = function() { window.location.href = `./spin/solutions/${filename}`; };

                    buttons.appendChild(copy_button);
                    buttons.appendChild(download_button);

                    header.appendChild(header_filename);
                    header.appendChild(copied_notification);
                    header.appendChild(buttons);
                    code_container.appendChild(header);

                    let code = document.createElement("code");
                    let pre = document.createElement("pre");
                    code_container.appendChild(pre);
                    pre.appendChild(code);
                    code.appendChild(document.createTextNode(solution_text));
                    task_solutions.appendChild(solution);

                    solution.appendChild(code_container);
                }

                return task_solutions;
            }

            function filter(dict, predicate)
            {
                let result = {};
                
                for (let key in dict)
                {
                    if (predicate(key, dict[key]))
                        result[key] = dict[key];
                }

                return result;
            }

            function placeTasks()
            {
                let tasks = getTasks();
                let solutions = getSolutions();

                const tasksList = document.getElementById("tasksList");
                for (let i = 0; i < tasks.length; i++)
                {
                    tasksList.appendChild(createTask(tasks[i].name, i));
                    tasksList.appendChild(createTaskText(tasks[i].task, i));
                    tasksList.appendChild(createTaskSolutions(filter(solutions, (key, value) => value.task_id == tasks[i].id), i));
                }

                tasksList.removeChild(document.getElementById("loaderProcess"));
            }

            setTimeout(placeTasks, 0);
        </script>
        <!-- <script>hljs.highlightAll();</script> -->
    </main>
    <footer>
        <div class="footer-container">
            <div class="footer-text">2025</div>
            <div>
                <button onclick="location.href='https://github.com/fvcrusher/fvcrusher.github.io'" class="footer-link">
                    <svg class="logo" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                        <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27s1.36.09 2 .27c1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.01 8.01 0 0 0 16 8c0-4.42-3.58-8-8-8"></path>
                    </svg>
                    <span class="footer-link-text">–ò—Å—Ö–æ–¥–Ω–∏–∫–∏ –Ω–∞ GitHub</span>
                </button>
            </div>
            <div>
                <button onclick="location.href='https://t.me/ebasoft'" class="footer-link">
                    <svg class="logo" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                        <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0M8.287 5.906q-1.168.486-4.666 2.01-.567.225-.595.442c-.03.243.275.339.69.47l.175.055c.408.133.958.288 1.243.294q.39.01.868-.32 3.269-2.206 3.374-2.23c.05-.012.12-.026.166.016s.042.12.037.141c-.03.129-1.227 1.241-1.846 1.817-.193.18-.33.307-.358.336a8 8 0 0 1-.188.186c-.38.366-.664.64.015 1.088.327.216.589.393.85.571.284.194.568.387.936.629q.14.092.27.187c.331.236.63.448.997.414.214-.02.435-.22.547-.82.265-1.417.786-4.486.906-5.751a1.4 1.4 0 0 0-.013-.315.34.34 0 0 0-.114-.217.53.53 0 0 0-.31-.093c-.3.005-.763.166-2.984 1.09"></path>
                    </svg>
                    <span class="footer-link-text">–ü–∞—Ü–∞–Ω—Å–∫–∞—è –ø—Ä–æ–≥–∞</span>
                </button>
            </div>
        </div>
    </footer>
</body>
</html>
